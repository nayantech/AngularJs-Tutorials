<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angular Js services</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script> 
</head>
<body>
    
    <div class="container bg-warning text-danger p-4" ng-controller="myCtrl1">
        <p>Url : {{ url }} </p>
        <p>Host : {{ host }} </p>
        <p>Protocol : {{ protocol }} </p>
        <p>Port : {{ port }} </p>



        <div ng-controller="myCtrl2">
            <h1 class="text-success">  {{msg}} </h1>

        </div>


        <div ng-controller="myCtrl3" class="text-center bg-dark text-white w-25 mx-auto rounded rounded-pill" >
            {{ time }}  <br>
            {{ time1 }} <br>
            {{ time2 | date:'mediumTime' }}  <br>
            count : {{ count }}

        </div>

        <div ng-controller="myCtrl4">

        </div>
    </div>

    

    </div>

    <script>
        let app=angular.module('myApp',[]);

        //loaction service
        app.controller('myCtrl1',function($scope,$location){
            $scope.url = $location.absUrl();
            $scope.host = $location.host();
            $scope.protocol = $location.protocol();
            $scope.port = $location.port();
        })


        // timeout service
        app.controller('myCtrl2',function($scope,$timeout){
            $scope.msg = 'Hii i camed here through controller scope'
            $timeout(function(){
                $scope.msg = 'hii  i have been called using timeout service'
            },3000)
        })




        // internal service
        app.controller('myCtrl3', function($scope,$interval){
            $scope.count = 0;
            $interval(function(){
                // $scope.count++;

                $scope.time = new Date().toLocaleString();
                $scope.time1 = new Date().toLocaleTimeString();
                $scope.time2 = new Date();

                return $scope.count++;
            },1000)
        })


        //window service
        app.controller('myCtrl4',function($scope,$timeout,$window){
            $timeout(function (){
                $scope.gname = $window.prompt('Please Enter Your Name.');

                $window.alert('Welcome '  + ($scope.gname) + ' :)');
            },3000)
        })
    </script>
</body>
</html>